name: 'Python Quality Checks'
description: 'Run code quality checks (ruff format, ruff lint, mypy)'
author: 'provide.io llc'

inputs:
  source-paths:
    description: 'Source paths to check'
    required: false
    default: 'src/ tests/'

runs:
  using: 'composite'
  steps:
    - name: ğŸ“¥ Checkout ci-tooling
      uses: actions/checkout@v4
      with:
        repository: provide-io/ci-tooling
        ref: main
        path: .ci-tooling

    - name: ğŸ¨ Check formatting with Ruff
      shell: bash
      run: |
        echo "ğŸ¨ Running Ruff format check on: ${{ inputs.source-paths }}"
        .venv/bin/ruff format --check ${{ inputs.source-paths }}

    - name: ğŸ” Lint with Ruff
      shell: bash
      run: |
        echo "ğŸ” Running Ruff lint on: ${{ inputs.source-paths }}"
        .venv/bin/ruff check ${{ inputs.source-paths }}

    - name: ğŸ”’ Type check with MyPy
      shell: bash
      run: |
        echo "ğŸ”’ Running MyPy type check"
        .venv/bin/mypy src/ || true

branding:
  icon: 'check-circle'
  color: 'green'

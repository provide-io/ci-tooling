name: 'Python Build'
description: 'Build Python package'
author: 'provide.io llc'

inputs:
  build-backend:
    description: 'Build backend (uv, build)'
    required: false
    default: 'uv'

runs:
  using: 'composite'
  steps:
    - name: ðŸ“¦ Build Package
      shell: bash
      run: |
        source ./workenv/bin/activate
        if [ "${{ inputs.build-backend }}" = "uv" ]; then
          uv build
        else
          pip install build
          python -m build
        fi

    - name: ðŸ“‹ Build Summary
      shell: bash
      run: |
        echo "## ðŸ“¦ Build Artifacts" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        ls -la dist/ >> $GITHUB_STEP_SUMMARY || echo "No dist directory"

branding:
  icon: 'package'
  color: 'orange'
